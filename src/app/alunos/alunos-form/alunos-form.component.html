<app-card1 [cardIconModifier]="'icon-add'" [cardTitle]="title" [cardIconClass]="'bi bi-person-add'" [cardFooterModifier]="'card__footer'">
  <div class="cardBody">
  <form class="needs-validation" novalidate [formGroup]="form" id="form" (ngSubmit)="onSubmit()">
      <div>
        <div class="row">
          <div class="col-md-6">
            <mat-form-field>
              <mat-label for="nome">Nome</mat-label>
              <input type="nome" matInput id="nome" formControlName="nome" placeholder="nome do curso">
              <mat-error *ngIf="hasError('nome')">
                <p *ngIf="hasError('nome')?.['required']">O nome do aluno é obrigatorio!</p>
                <p *ngIf="hasError('nome')?.['minlength']"> O nome deve ter no minimo 3 caracteres.</p>
              </mat-error>            
            </mat-form-field>
          </div>
          <div class="col-md-6">
            <mat-form-field>
              <mat-label for="email">E-mail</mat-label>
              <input type="email" matInput id="email" formControlName="email" placeholder="email do aluno">
              <mat-error *ngIf="hasError('email')">
                <p *ngIf="hasError('email')?.['required']">O email do aluno é obrigatorio!</p>
                <p *ngIf="hasError('email')?.['email']"> E-mail inválido!</p>
              </mat-error>
            </mat-form-field>
          </div>
        </div>
      </div>
      <div>
        <div class="row">
          <div class="col-md-12">
            <mat-form-field>
              <mat-label>Telefone</mat-label>
              <span matPrefix>+55 &nbsp;</span>
              <input type="tel" formControlName="telefone" matInput placeholder="(xx) xxxx-xxxx">
              <mat-error *ngIf="hasError('telefone')">
                <p *ngIf="hasError('telefone')?.['required']">O telefone do aluno é obrigatorio!</p>
                <p *ngIf="hasError('telefone')?.['pattern']"> Telefone inválido!</p>
              </mat-error>
            </mat-form-field>
          </div>
        </div>
      </div>

      <div formGroupName="endereco">
        <div class="row">
          <div class="col-md-4">
            <mat-form-field>
              <mat-label>Cep</mat-label>
              <input type="text" matInput id="cep" formControlName="cep" />
              <mat-error *ngIf="hasError('endereco.cep')">
                <p *ngIf="hasError('endereco.cep')?.['required']">O cep é obrigatorio!</p>
                <p *ngIf="hasError('endereco.cep')?.['pattern']">O cep inválido!</p>
              </mat-error>
            </mat-form-field>
          </div>

          <div class="col-md-4">
            <mat-form-field>
              <mat-label>Número</mat-label>
              <input type="text" matInput id="numero" formControlName="numero" />
              <mat-error *ngIf="hasError('endereco.numero')">
                <p *ngIf="hasError('endereco.numero')?.['required']">O número é obrigatorio!</p>
              </mat-error>
            </mat-form-field>
          </div>

          <div class="col-md-4">
            <mat-form-field>
              <mat-label>Complemento</mat-label>
              <input type="text" matInput id="complemento" formControlName="complemento" />
            </mat-form-field>
          </div>
        </div>
        <div class="row">
          <div class="col-md-3">
            <mat-form-field>
              <mat-label>Rua</mat-label>
              <input type="text" matInput id="rua" placeholder="rua" formControlName="rua" />
              <mat-error *ngIf="hasError('endereco.rua')">
                <p *ngIf="hasError('endereco.rua')?.['required']">A rua é obrigatorio!</p>
              </mat-error>
            </mat-form-field>
          </div>
        
          <div class="col-md-3">
            <mat-form-field>
              <mat-label>Bairro</mat-label>
              <input type="text" matInput id="bairro" formControlName="bairro" />
              <mat-error *ngIf="hasError('endereco.bairro')">
                <p *ngIf="hasError('endereco.bairro')?.['required']">O bairro é obrigatorio!</p>
              </mat-error>
            </mat-form-field>
          </div>
          
          <div class="col-md-3">
            <mat-form-field>
              <mat-label>Estado</mat-label>
            <mat-select id="estado" formControlName="estado">
              <mat-option [value]="estado.sigla" *ngFor="let estado of estados">
                {{ estado.nome }}
              </mat-option>
            </mat-select>
            <mat-error *ngIf="hasError('endereco.estado')">
              <p *ngIf="hasError('endereco.estado')?.['required']">O estado é obrigatorio!</p>
            </mat-error>
            </mat-form-field>
          </div>

          <div class="col-md-3">
            <mat-form-field>
              <mat-label>Cidade</mat-label>
            <mat-select  id="cidade" formControlName="cidade">
              <mat-option *ngFor="let cidade of cidades" [value]="cidade.nome">{{ cidade.nome }}</mat-option>
            </mat-select>
            <mat-error *ngIf="hasError('endereco.cidade')">
              <p *ngIf="hasError('endereco.cidade')?.['required']">O Cidade é obrigatorio!</p>
            </mat-error>
            </mat-form-field>
          </div>
        </div>
      </div>
      <div>
        <div class="row">
          <div class="col-md-12">
            <mat-form-field>
              <mat-label>Selecione o curso</mat-label>
              <mat-select formControlName="curso" multiple>
                <mat-option  *ngFor="let item of cursos" [value]="item.nome">
                  {{item.nome}}
                </mat-option>
              </mat-select>
              <mat-error *ngIf="hasError('curso') && !hasError('required')">
                A escolha do curso é obrigatorio!
              </mat-error>
            </mat-form-field>
          </div>
        </div>
      </div>
    </form>
  </div>
  <div class="cardFooter">
    <div>
      <button mat-raised-button type="submit" class="btn btn-red" form="form">Salvar</button>
     <button type="button" class="btn" form="form" (click)="onCancel()">Cancelar</button>
    </div>
  </div>
</app-card1>